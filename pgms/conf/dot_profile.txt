#!/bin/sh
# .profile - Bourne shell init script

# set the default file creation mask to something reasonably safe

umask 022

# set the PATH to directories where binaries are usually located

PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin
PATH=$PATH:/usr/X11R6/bin:/opt/local/bin:/opt/local/sbin
PATH=$PATH:/usr/sfw/bin:/opt/sfw/bin:/usr/ccs/bin:$HOME/bin
export PATH

# set HOST to the short hostname

#HOST="`uname -n | sed -e 's/\..*$//' | tr 'A-Z' 'a-z'`"

# fix TERM, if necessary

# if [ "X$TERM" = "Xscreen" ] ; then
#     TERM=vt100
#     export TERM
# fi

# set variables for interactive shells

case $- in
    *i*)
        # PS1="$HOST$ "
        # PS2="$HOST> "
        PS1="$ "
        PS2="> "

        # change the prompt if running as root (e.g. via sudo)

        if [ X"$EUID" = X"0" ] ; then
            # PS1="$HOST# "
            # PS2="$HOST#> "
            PS1="# "
            PS2="#> "
        fi
        PAGER="more"
        EDITOR="vi"
        VISUAL="$EDITOR"
        FCEDIT="$EDITOR"
        CDPATH=".:$HOME:$HOME/Documents"
        SHELL="`echo $0 | sed -e 's/^\-//' -e 's/.*\///'`"

        export PS1 PS2 PAGER EDITOR VISUAL FCEDIT CDPATH SHELL

        # if less is available, use it

        if type less > /dev/null 2>&1 ; then
            PAGER="less"
        fi

        # set bash and ksh specific options

        case $SHELL in
            bash*)
                set -o notify emacs ignoreeof nonclobber
                ;;
            ksh*)
                set -o emacs
                if [ -r "$HOME/.kshrc" ] ; then
                   ENV="$HOME/.kshrc"
                   export ENV
                fi
                ;;
        esac

        # create some safety functions

        cp () { /bin/cp -i "$@" ; }
        mv () { /bin/mv -i "$@" ; }
        rm () { /bin/rm -i "$@" ; }
        ls () { /bin/ls -aFC "$@" ; }
        yes() { echo "yes" ; }
        y()   { echo "y" ; }

        # if aliases are available, then alias screen and subversion

        # case "`type alias 2>&1 | awk '{ print $NF; }'`" in
        #     *builtin*)
        #         alias screen="screen -e^Dd"
        #         alias snv=svn
        #         ;;
        # esac
        ;;
esac

# look for and load any local shell startup files

for LOCAL_STARTUP in "$HOME/.profile_$HOST" \
                     "$HOME/.profile_local"
do
    if [ -r "$LOCAL_STARTUP" ] ; then
        . "$LOCAL_STARTUP"
    fi
done
unset LOCAL_STARTUP
